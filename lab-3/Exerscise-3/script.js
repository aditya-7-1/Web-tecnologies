const questions=[{id:1,type:'text',question:'Your name',required:true,max:50},{id:2,type:'radio',question:'Satisfaction level',options:['Poor','Fair','Good','Excellent'],required:true},{id:3,type:'checkbox',question:'Hobbies',options:['Reading','Sports','Music','Travel'],min:1,max:3}];const questionsDiv=document.getElementById('questions'),form=document.getElementById('surveyForm');function generateForm(){questionsDiv.innerHTML='';questions.forEach(q=>{const div=document.createElement('div'),label=document.createElement('label');label.textContent=q.question;div.appendChild(label);if(q.type==='text'){const input=document.createElement('input');input.type='text';input.dataset.qid=q.id;input.maxLength=q.max||100;div.appendChild(input);}else if(q.type==='radio'){q.options.forEach(opt=>{const rb=document.createElement('input');rb.type='radio';rb.name=`q${q.id}`;rb.value=opt;const span=document.createElement('span');span.textContent=opt;div.appendChild(rb);div.appendChild(span);});}else if(q.type==='checkbox'){q.options.forEach(opt=>{const cb=document.createElement('input');cb.type='checkbox';cb.value=opt;cb.dataset.qid=q.id;const span=document.createElement('span');span.textContent=opt;div.appendChild(cb);div.appendChild(span);});}const error=document.createElement('span');error.className='error';error.id=`error${q.id}`;div.appendChild(error);questionsDiv.appendChild(div);});}function validateSurvey(){let valid=true;questions.forEach(q=>{const errorEl=document.getElementById(`error${q.id}`);errorEl.textContent='';if(q.type==='text'){const input=document.querySelector(`[data-qid="${q.id}"]`);if(q.required&&!input.value.trim()){errorEl.textContent='Required';valid=false;}else if(input.value.length>q.max){errorEl.textContent=`Max ${q.max} chars`;valid=false;}}else if(q.type==='radio'){const selected=Array.from(document.querySelectorAll(`input[name="q${q.id}"]:checked`));if(q.required&&selected.length===0){errorEl.textContent='Required';valid=false;}}else if(q.type==='checkbox'){const checked=document.querySelectorAll(`input[data-qid="${q.id}"]:checked`);if(checked.length<q.min){errorEl.textContent=`Select at least ${q.min}`;valid=false;}if(checked.length>q.max){errorEl.textContent=`Max ${q.max}`;valid=false;}}});return valid;}generateForm();form.addEventListener('submit',e=>{e.preventDefault();if(validateSurvey()){alert('Survey submitted!');}});
