let activities=[],clickCount=0,keyCount=0;const logDiv=document.getElementById('log'),clickSpan=document.getElementById('clickCount'),keySpan=document.getElementById('keyCount'),demo=document.getElementById('demo'),body=document.body;function logActivity(type,event){const activity={type,time:new Date().toLocaleTimeString(),target:event.target.tagName||'BODY',x:event.clientX||0,y:event.clientY||0};activities.push(activity);if(type==='click')clickCount++;else if(type==='key')keyCount++;updateDisplay();checkThreshold();}function updateDisplay(){logDiv.innerHTML=activities.slice(-10).map(a=>`<div>[${a.time}] ${a.type} on ${a.target} (${a.x},${a.y})</div>`).join('');clickSpan.textContent=clickCount;keySpan.textContent=keyCount;}function checkThreshold(){if(clickCount>20){alert('Suspicious activity: too many clicks!');}}function resetLog(){activities=[];clickCount=0;keyCount=0;updateDisplay();}function exportLog(){const text=activities.map(a=>`${a.time} ${a.type} ${a.target}`).join('\n');const blob=new Blob([text],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='activity.log';a.click();}document.addEventListener('click',e=>logActivity('click',e),true);document.addEventListener('keydown',e=>logActivity('key',e),true);document.addEventListener('focus',e=>logActivity('focus',e),true);updateDisplay();
