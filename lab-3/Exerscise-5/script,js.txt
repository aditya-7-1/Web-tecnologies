let currentStage=1;const stages=document.querySelectorAll('.stage'),progBar=document.getElementById('progBar'),form=document.getElementById('multiForm'),submitBtn=document.getElementById('submitBtn');const stageValidators=[()=>!!document.getElementById('name').value&&parseInt(document.getElementById('age').value)>=18,[()=>validateEmail(document.getElementById('email').value),()=>document.getElementById('phone').value.length===10],[()=>!!document.getElementById('city').value,()=>/^\d{5}$/.test(document.getElementById('zip').value)],[()=>true]];function validateEmail(email){return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);}function showStage(stage){stages.forEach(s=>s.classList.toggle('active',parseInt(s.dataset.stage)===stage));currentStage=stage;progBar.style.width=`${stage*25}%`;document.querySelector('button[onclick="prevStage()"]').style.display=stage>1?'inline':'none';submitBtn.style.display=stage===4?'inline':'none';if(stage===4)showSummary();}function nextStage(){if(validateCurrentStage()){if(currentStage<4)showStage(currentStage+1);}}function prevStage(){if(currentStage>1)showStage(currentStage-1);}function validateCurrentStage(){const validators=stageValidators[currentStage-1];for(let v of validators){if(!v()){alert('Complete current stage');return false;} }return true;}function showSummary(){let summary='Name: '+document.getElementById('name').value+'\nAge: '+document.getElementById('age').value+'\nEmail: '+document.getElementById('email').value+'\nPhone: '+document.getElementById('phone').value+'\nCity: '+document.getElementById('city').value+'\nZip: '+document.getElementById('zip').value;document.getElementById('summary').textContent=summary;}form.addEventListener('submit',e=>{e.preventDefault();if(validateCurrentStage()){alert('Form completed!');}});showStage(1);
